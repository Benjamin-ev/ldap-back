(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(6098)}])},1210:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1};("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8418:function(e,t,n){"use strict";var r=n(4941).Z;n(5753).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(7294))&&o.__esModule?o:{default:o},s=n(6273),u=n(2725),i=n(3462),c=n(1018),l=n(7190),f=n(1210),d=n(8684);var p="undefined"!==typeof a.default.useTransition,h={};function v(e,t,n,r){if(e&&s.isLocalURL(t)){e.prefetch(t,n,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;h[t+"%"+n+(o?"%"+o:"")]=!0}}var m=a.default.forwardRef((function(e,t){var n,o=e.href,m=e.as,j=e.children,y=e.prefetch,b=e.passHref,_=e.replace,g=e.shallow,x=e.scroll,O=e.locale,w=e.onClick,N=e.onMouseEnter,k=e.legacyBehavior,C=void 0===k?!0!==Boolean(!1):k,P=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","legacyBehavior"]);n=j,!C||"string"!==typeof n&&"number"!==typeof n||(n=a.default.createElement("a",null,n));var L=!1!==y,E=r(p?a.default.useTransition():[],2)[1],T=a.default.useContext(i.RouterContext),M=a.default.useContext(c.AppRouterContext);M&&(T=M);var R,S=a.default.useMemo((function(){var e=r(s.resolveHref(T,o,!0),2),t=e[0],n=e[1];return{href:t,as:m?s.resolveHref(T,m):n||t}}),[T,o,m]),H=S.href,B=S.as,A=a.default.useRef(H),I=a.default.useRef(B);C&&(R=a.default.Children.only(n));var D=C?R&&"object"===typeof R&&R.ref:t,q=r(l.useIntersection({rootMargin:"200px"}),3),U=q[0],G=q[1],K=q[2],V=a.default.useCallback((function(e){I.current===B&&A.current===H||(K(),I.current=B,A.current=H),U(e),D&&("function"===typeof D?D(e):"object"===typeof D&&(D.current=e))}),[B,D,H,K,U]);a.default.useEffect((function(){var e=G&&L&&s.isLocalURL(H),t="undefined"!==typeof O?O:T&&T.locale,n=h[H+"%"+B+(t?"%"+t:"")];e&&!n&&v(T,H,B,{locale:t})}),[B,H,G,O,L,T]);var J={ref:V,onClick:function(e){C||"function"!==typeof w||w(e),C&&R.props&&"function"===typeof R.props.onClick&&R.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,a,u,i,c){if("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&s.isLocalURL(n)){e.preventDefault();var l=function(){t[o?"replace":"push"](n,r,{shallow:a,locale:i,scroll:u})};c?c(l):l()}}(e,T,H,B,_,g,x,O,M?E:void 0)},onMouseEnter:function(e){C||"function"!==typeof N||N(e),C&&R.props&&"function"===typeof R.props.onMouseEnter&&R.props.onMouseEnter(e),s.isLocalURL(H)&&v(T,H,B,{priority:!0})}};if(!C||b||"a"===R.type&&!("href"in R.props)){var Z="undefined"!==typeof O?O:T&&T.locale,z=T&&T.isLocaleDomain&&f.getDomainLocale(B,Z,T.locales,T.domainLocales);J.href=z||d.addBasePath(u.addLocale(B,Z,T&&T.defaultLocale))}return C?a.default.cloneElement(R,J):a.default.createElement("a",Object.assign({},P,J),n)}));t.default=m,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7190:function(e,t,n){"use strict";var r=n(4941).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,c=e.disabled||!s,l=o.useRef(),f=r(o.useState(!1),2),d=f[0],p=f[1],h=r(o.useState(null),2),v=h[0],m=h[1];o.useEffect((function(){if(s){if(l.current&&(l.current(),l.current=void 0),c||d)return;return v&&v.tagName&&(l.current=function(e,t,n){var r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=i.find((function(e){return e.root===n.root&&e.margin===n.margin}));if(r&&(t=u.get(r)))return t;var o=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return t={id:n,observer:a,elements:o},i.push(n),u.set(n,t),t}(n),o=r.id,a=r.observer,s=r.elements;return s.set(e,t),a.observe(e),function(){if(s.delete(e),a.unobserve(e),0===s.size){a.disconnect(),u.delete(o);var t=i.findIndex((function(e){return e.root===o.root&&e.margin===o.margin}));t>-1&&i.splice(t,1)}}}(v,(function(e){return e&&p(e)}),{root:null==t?void 0:t.current,rootMargin:n})),function(){null==l.current||l.current(),l.current=void 0}}if(!d){var e=a.requestIdleCallback((function(){return p(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[v,c,n,t,d]);var j=o.useCallback((function(){p(!1)}),[]);return[m,d,j]};var o=n(7294),a=n(9311),s="function"===typeof IntersectionObserver;var u=new Map,i=[];("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1018:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AppRouterContext=void 0;var o=((r=n(7294))&&r.__esModule?r:{default:r}).default.createContext(null);t.AppRouterContext=o},6098:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.r(t),n.d(t,{default:function(){return N}});var s=n(5893);n(906);function u(e,t,n,r,o,a,s){try{var u=e[a](s),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,o)}var i=n(4051),c=n.n(i),l=n(887),f=n.n(l),d=n(7294),p=n(5697),h=n.n(p),v=n(9008),m=n.n(v);function j(e){var t=e.setToken,n=(0,d.useState)(),r=n[0],o=n[1],a=(0,d.useState)(),i=a[0],l=a[1],p=(0,d.useState)(!1),h=p[0],v=p[1],j=function(){var e,n=(e=c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),fetch("https://admin.boquette.fr/api/auth",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"},body:JSON.stringify({username:r,password:i}),credentials:"include"}).then((function(e){if(200==e.status)return e.json();v(!0)})).then((function(e){e&&t(e.xsrfToken)}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){u(a,r,o,s,i,"next",e)}function i(e){u(a,r,o,s,i,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,s.jsxs)("div",{className:f().container,children:[(0,s.jsxs)(m(),{children:[(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.svg"}),(0,s.jsx)("title",{children:"A&M Boquette - Connexion"})]}),(0,s.jsx)("header",{className:f().header,children:(0,s.jsx)("h1",{children:"Interface de gestion utilisateur"})}),(0,s.jsxs)("main",{className:f().main,children:[h?(0,s.jsx)("p",{className:f().field,children:"Hum ? Vos identifiants ne semblent pas fonctionner..."}):void 0,(0,s.jsxs)("form",{className:f().form,onSubmit:j,children:[(0,s.jsx)("h1",{children:"Connectez-vous"}),(0,s.jsxs)("label",{children:[(0,s.jsx)("p",{children:"Nom d'utilisateur"}),(0,s.jsx)("input",{type:"text",onChange:function(e){return o(e.target.value)},className:f().card,required:!0})]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("p",{children:"Mot de passe"}),(0,s.jsx)("input",{type:"password",onChange:function(e){return l(e.target.value)},className:f().card,required:!0})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:f().bouton,children:"Connexion"})})]})]})]})}j.propTypes={setToken:h().func.isRequired};var y=n(3532),b=n.n(y),_=n(1664),g=n.n(_),x=n(1163),O=n.n(x);function w(e){return(0,s.jsxs)("div",{className:b().container,children:[(0,s.jsxs)(m(),{children:[(0,s.jsx)("meta",{name:"description",content:"Managing page for boquette FR"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.svg"}),(0,s.jsx)("title",{children:"A&M Boquette - Gestion LDAP"})]}),(0,s.jsxs)("header",{className:b().header,children:[(0,s.jsxs)("div",{className:b().subHeader,children:[(0,s.jsx)(g(),{href:"/",passHref:!0,children:(0,s.jsx)("h2",{className:[b().bouton,["/","/users/add","/users/edit"].includes(O().pathname)?b().selectedBouton:void 0].join(" "),children:"Gestion des Utilisateurs"})}),(0,s.jsx)(g(),{href:"/groups",passHref:!0,children:(0,s.jsx)("h2",{className:[b().bouton,["/groups","/groups/add","/groups/edit","/groups/transfert"].includes(O().pathname)?b().selectedBouton:void 0].join(" "),children:"Gestion des Groupes"})})]}),["/","/users/add","/users/edit"].includes(O().pathname)?(0,s.jsxs)("div",{className:b().subHeader,children:[(0,s.jsx)(g(),{href:"/",passHref:!0,children:(0,s.jsx)("h2",{className:[b().bouton,"/"==O().pathname?b().selectedBouton:void 0].join(" "),children:"Visualiser"})}),(0,s.jsx)(g(),{href:"/users/add",passHref:!0,children:(0,s.jsx)("h2",{className:[b().bouton,"/users/add"==O().pathname?b().selectedBouton:void 0].join(" "),children:"Ajouter"})}),(0,s.jsx)(g(),{href:"/users/edit",passHref:!0,children:(0,s.jsx)("h2",{className:[b().bouton,"/users/edit"==O().pathname?b().selectedBouton:void 0].join(" "),children:"Editer"})})]}):(0,s.jsxs)("div",{className:b().subHeader,children:[(0,s.jsx)(g(),{href:"/groups",passHref:!0,children:(0,s.jsx)("h2",{className:[b().bouton,"/groups"==O().pathname?b().selectedBouton:void 0].join(" "),children:"Visualiser"})}),(0,s.jsx)(g(),{href:"/groups/add",passHref:!0,children:(0,s.jsx)("h2",{className:[b().bouton,"/groups/add"==O().pathname?b().selectedBouton:void 0].join(" "),children:"Ajouter"})}),(0,s.jsx)(g(),{href:"/groups/edit",passHref:!0,children:(0,s.jsx)("h2",{className:[b().bouton,"/groups/edit"==O().pathname?b().selectedBouton:void 0].join(" "),children:"Editer"})}),(0,s.jsx)(g(),{href:"/groups/transfert",passHref:!0,children:(0,s.jsx)("h2",{className:[b().bouton,"/groups/transfert"==O().pathname?b().selectedBouton:void 0].join(" "),children:"Transf\xe9rer"})})]})]}),(0,s.jsx)("main",{className:b().main,children:e.children})]})}function N(e){var t=e.Component,n=e.pageProps,r=(0,d.useState)(!1),u=r[0],i=r[1],c=function(){var e=(0,d.useState)(function(){var e=localStorage.getItem("token");if("undefined"!==e)return JSON.parse(e)}()),t=e[0],n=e[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),n(e)},token:t}}(),l=c.token,f=c.setToken;return(0,d.useEffect)((function(){i(!0)}),[]),u?l?(0,s.jsx)(w,{children:(0,s.jsx)(t,o({},n))}):(0,s.jsx)(j,a(o({},n),{setToken:f})):null}},3532:function(e){e.exports={container:"Layout_container__a4TgG",main:"Layout_main__T635V",form:"Layout_form__h8n_g",header:"Layout_header__5T1Lo",subHeader:"Layout_subHeader__UEtRY",bouton:"Layout_bouton__eeQZ9",selectedBouton:"Layout_selectedBouton__kIBwc"}},887:function(e){e.exports={container:"Login_container__948hg",header:"Login_header__new92",main:"Login_main__evomJ",form:"Login_form__uAztA",card:"Login_card__ZjoqK",bouton:"Login_bouton__dmoqp"}},906:function(){},9008:function(e,t,n){e.exports=n(5443)},1664:function(e,t,n){e.exports=n(8418)},1163:function(e,t,n){e.exports=n(387)},2703:function(e,t,n){"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,s){if(s!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(1118),t(387)}));var n=e.O();_N_E=n}]);